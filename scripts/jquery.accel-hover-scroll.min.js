/*
# AccelHoverScroll v0.1
# Accelerated Hoverscroll: mouse over the left or right sides
# of a container and the containerw will scroll in that direction,
# the closer to the edge of the container the faster it goes.
#
# Do as thou wilt with this code but send any surplus love
# over to usefulrobot.io
#
# Copyright 2012 Alex Matchneer / Useful Robot
*/
((function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};a=jQuery,a.AccelHoverScroll=function(){function c(c,d){var e;d==null&&(d={}),this._onMouseMove=b(this._onMouseMove,this),this._reset=b(this._reset,this),this._onMouseLeave=b(this._onMouseLeave,this),this._onMouseEnter=b(this._onMouseEnter,this),this._onResize=b(this._onResize,this),this.$outerContainer=a(c),this.options={maxScrollSpeed:800,scrollGutterPercentage:.3,scrollGutterSlices:5,overrideCursor:!0},a.extend(this.options,d),this.defaultCursor=this.$outerContainer.css("cursor"),this.$contentContainer=this.$outerContainer.find(".hoverscroll-content");if(!this.$contentContainer.length){console.log("accelHoverScroll: Couldn't find required .hoverscroll-content class");return}e=this.$contentContainer.css("position"),e!=="relative"&&e!=="absolute"&&(e="relative"),this.$contentContainer.css({position:e,left:"0px"}),this.$outerContainer.css({overflow:"hidden"}),this.currentScrollSpeed=0,this.$leftArrow=a(".arrow-left"),this.$rightArrow=a(".arrow-right"),this.$leftArrow.hide(),this.$outerContainer.hover(this._onMouseEnter,this._onMouseLeave);return}return c.prototype._onResize=function(){return console.log("Resizeed!")},c.prototype.pause=function(){return this._onMouseLeave(),this.isPaused=!0},c.prototype.resume=function(){return this.isPaused=!1},c.prototype._onMouseEnter=function(a){var b;if(this.isPaused)return;return this.currentScrollSpeed=0,this.contentContainerWidth=this.$contentContainer.outerWidth(!0),this.outerWidth=this.$outerContainer.outerWidth(!0),b=this.outerWidth*this.options.scrollGutterPercentage,this.currentSliceSize=Math.ceil(b/this.options.scrollGutterSlices),this.$outerContainer.mousemove(this._onMouseMove)},c.prototype._onMouseLeave=function(a){if(this.isPaused)return;return this._reset(),this.$contentContainer.unbind("mousemove")},c.prototype._reset=function(a){a==null&&(a=!1),this.currentScrollSpeed=0,this.$contentContainer.stop(!0,a);if(this.options.overrideCursor)return this.$outerContainer.css("cursor",this.defaultCursor)},c.prototype._onMouseMove=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n=this;if(this.isPaused)return;f=this.options.scrollGutterPercentage,i=a.clientX/this.outerWidth,m=0;if(i<f)g=!0,b=1-i/f,m=b*this.options.maxScrollSpeed;else if(i>1-f)g=!1,b=(i-1+f)/f,m=b*this.options.maxScrollSpeed;else{this._reset();return}l=1/this.options.scrollGutterSlices,k=Math.floor(b/l);if(k===this.oldSliceIndex)return;this.oldSliceIndex=k,m=Math.floor(m/10)*10,m=Math.max(10,m),g&&(m=-m);if(m===this.currentScrollSpeed)return;this.currentScrollSpeed=m,c=parseInt(this.$contentContainer.css("left")),h=this.contentContainerWidth-this.outerWidth,d=g?Math.abs(c):h+c;if(d<0){this._reset(!0);return}e=Math.floor(d/m*1e3),e=Math.abs(e);if(!e)return;return this.$leftArrow.fadeIn(),this.$rightArrow.fadeIn(),this.options.overrideCursor&&(g?this.$outerContainer.css("cursor","w-resize"):this.$outerContainer.css("cursor","e-resize")),j=g?"0px":"-"+Math.abs(h)+"px",this.$contentContainer.stop(!0,!1).animate({left:j},e,"linear",function(){return g?n.$leftArrow.fadeOut():n.$rightArrow.fadeOut(),n._reset()})},c}(),a.fn.accelHoverScroll=function(b){var c;return b==null&&(b={}),typeof b=="string"?(c=Array.prototype.slice.call(arguments,1),this.each(function(){var d;return d=a.data(this,"hoverscroll"),d[b].apply(d,c)})):this.each(function(){return a.data(this,"hoverscroll",new a.AccelHoverScroll(this,b))}),this}})).call(this)